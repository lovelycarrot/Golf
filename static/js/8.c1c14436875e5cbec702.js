webpackJsonp([8],{Cvau:function(t,e,i){"use strict";t.exports=function(t){if(!Array.isArray(t))throw new TypeError("Expected Array, got "+typeof t);for(var e,i,n=t.length,a=t.slice();n;)e=Math.floor(Math.random()*n--),i=a[n],a[n]=a[e],a[e]=i;return a}},ERzt:function(t,e){},Jq4H:function(t,e){},VNUi:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("lC5x"),a=i.n(n),r=i("J0Oq"),s=i.n(r),l=i("ZLEe"),o=i.n(l),c=i("3cXf"),u=i.n(c),h=i("pXsO"),d=(String,{name:"tip",props:{align:{type:String,default:"left"}}}),p={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vux-group-tip",style:{"text-align":this.align}},[this._t("default")],2)},staticRenderFns:[]};var v=i("C7Lr")(d,p,!1,function(t){i("Jq4H")},null,null).exports,f=i("JjGC"),m=i("Y8l7"),_=i("j+aY"),g=i("Cvau"),y=i.n(g);f.a,m.a,_.e,_.b,h.a,String,Boolean,String,Boolean,Array,Array,Number,Number,Boolean,Boolean,Boolean,String,Boolean,_.e,_.b,_.a;var b={name:"checklist",components:{Tip:v,Icon:f.a,InlineDesc:m.a},filters:{getValue:_.e,getKey:_.b},mixins:[h.a],props:{name:String,showError:Boolean,title:String,required:{type:Boolean,default:!1},options:{type:Array,required:!0},value:{type:Array,default:function(){return[]}},max:Number,min:Number,fillMode:Boolean,randomOrder:Boolean,checkDisabled:{type:Boolean,default:!0},labelPosition:{type:String,default:"right"},disabled:Boolean},data:function(){return{currentValue:[],currentOptions:this.options,tempValue:""}},beforeUpdate:function(){if(this.isRadio){var t=this.currentValue.length;t>1&&(this.currentValue=[this.currentValue[t-1]]);var e=x(this.currentValue);this.tempValue=e.length?e[0]:""}},created:function(){this.handleChangeEvent=!0,this.value&&(this.currentValue=this.value,this.isRadio&&(this.tempValue=this.isRadio?this.value[0]:this.value)),this.randomOrder?this.currentOptions=y()(this.options):this.currentOptions=this.options},methods:{getValue:_.e,getKey:_.b,getInlineDesc:_.a,getFullValue:function(){var t=Object(_.d)(this.options,this.value);return this.currentValue.map(function(e,i){return{value:e,label:t[i]}})},isDisabled:function(t){return!!this.checkDisabled&&(this._max>1&&(-1===this.currentValue.indexOf(t)&&this.currentValue.length===this._max))}},computed:{isRadio:function(){return void 0!==this.max&&1===this.max},_total:function(){return this.fillMode?this.options.length+1:this.options.length},_min:function(){if(!this.required&&!this.min)return 0;if(!this.required&&this.min)return Math.min(this._total,this.min);if(this.required){if(this.min){var t=Math.max(1,this.min);return Math.min(this._total,t)}return 1}},_max:function(){return(this.required||this.max)&&this.max?this.max>this._total?this._total:this.max:this._total},valid:function(){return this.currentValue.length>=this._min&&this.currentValue.length<=this._max}},watch:{tempValue:function(t){var e=t?[t]:[];this.$emit("input",e),this.$emit("on-change",e,Object(_.d)(this.options,e))},value:function(t){u()(t)!==u()(this.currentValue)&&(this.currentValue=t)},options:function(t){this.currentOptions=t},currentValue:function(t){var e=x(t);if(!this.isRadio){this.$emit("input",e),this.$emit("on-change",e,Object(_.d)(this.options,e));var i={};this._min&&(this.required?this.currentValue.length<this._min&&(i={min:this._min}):this.currentValue.length&&this.currentValue.length<this._min&&(i={min:this._min})),!this.valid&&this.dirty&&o()(i).length?this.$emit("on-error",i):this.$emit("on-clear-error")}}}};function x(t){return JSON.parse(u()(t))}var V={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.disabled?"vux-checklist-disabled":""},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}],staticClass:"weui-cells__title"},[t._v(t._s(t.title))]),t._v(" "),t._t("after-title"),t._v(" "),i("div",{staticClass:"weui-cells weui-cells_checkbox"},t._l(t.currentOptions,function(e,n){return i("label",{staticClass:"weui-cell weui-check_label",class:{"vux-checklist-label-left":"left"===t.labelPosition},attrs:{for:"checkbox_"+t.uuid+"_"+n}},[i("div",{staticClass:"weui-cell__hd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"checkbox",name:"vux-checkbox-"+t.uuid,id:t.disabled?"":"checkbox_"+t.uuid+"_"+n,disabled:t.isDisabled(t.getKey(e))},domProps:{value:t.getKey(e),checked:Array.isArray(t.currentValue)?t._i(t.currentValue,t.getKey(e))>-1:t.currentValue},on:{change:function(i){var n=t.currentValue,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=t.getKey(e),l=t._i(n,s);a.checked?l<0&&(t.currentValue=n.concat([s])):l>-1&&(t.currentValue=n.slice(0,l).concat(n.slice(l+1)))}else t.currentValue=r}}}),t._v(" "),i("i",{staticClass:"weui-icon-checked vux-checklist-icon-checked"})]),t._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("p",{domProps:{innerHTML:t._s(t.getValue(e))}}),t._v(" "),t.getInlineDesc(e)?i("inline-desc",[t._v(t._s(t.getInlineDesc(e)))]):t._e()],1)])}),0),t._v(" "),t._t("footer")],2)},staticRenderFns:[]};var C=i("C7Lr")(b,V,!1,function(t){i("ERzt")},null,null).exports,w=i("Wm14"),k=i("yvOB"),O=i("VfQv"),B=i("5I+0"),A=function(t){return Object(B.a)("post","/api/orderPay",t)},S=(w.a,k.a,O.a,{name:"Pay",data:function(){return{payMethods:["微信支付","支付宝支付"],show:!1,price:0}},components:{Checklist:C,Radio:w.a,Group:k.a,Alert:O.a},methods:{change:function(t){console.log(t)},handlePay:function(){var t=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({orderId:t.$route.params.id});case 2:200===e.sent.code&&(t.show=!0);case 4:case"end":return e.stop()}},e,t)}))()},handleHide:function(){this.$router.push("/")},handleInit:function(){var t=this,e=this.$route.params.id,i="O"===e.toString().slice(0,1)?"goodsOrder":"golfOrder",n=JSON.parse(localStorage.getItem(i));console.log("in"),n.forEach(function(i){i.id===e&&(t.price=i.totalPrice)})}},mounted:function(){this.handleInit()},activated:function(){this.handleInit()}}),$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pay-container"},[i("h2",{staticClass:"top-title"},[i("i",{staticClass:"iconfont",on:{click:t.handleHide}},[t._v("")]),t._v(" 确认订单")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"price-container"},[t._v("\n      付款金额 "),i("span",{staticClass:"price"},[t._v("￥"+t._s(t.price)+"元")])]),t._v(" "),i("h2",{staticClass:"title"},[t._v("请选择支付方式")]),t._v(" "),i("group",{staticClass:"pay-methods"},[i("radio",{attrs:{options:t.payMethods,value:"微信支付"},on:{"on-change":t.change}})],1),t._v(" "),i("alert",{attrs:{title:"提示"},on:{"on-hide":t.handleHide},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v("支付成功")])],1),t._v(" "),i("div",{staticClass:"footer-container"},[i("span",{staticClass:"pay",on:{click:t.handlePay}},[t._v("立即支付")])])])},staticRenderFns:[]};var E=i("C7Lr")(S,$,!1,function(t){i("nt16")},"data-v-4eabee17",null);e.default=E.exports},nt16:function(t,e){}});
//# sourceMappingURL=8.c1c14436875e5cbec702.js.map